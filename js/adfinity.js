(()=>{window.adfinityData={"staticUrl":"https:\/\/cdn.adfinity.pro\/code","domains":{"main":"fitnavigator.ru","mirror":[".*\\.fitnavigator\\.ru"]},"url_exception":[],"siteConfig":{"blocks":[{"blockId":6916,"blockCaption":"M_Overlay_300x250_v","creativeType":"adfox","creativeParms":{"containerId":"adfox_17023875387128743","type":"adaptive","ownerId":389280,"params":{"pp":"bsgx","ps":"hcgu","p2":"itca","ld":"https:\/\/fitnavigator.ru","dl":"https:\/\/fitnavigator.ru"},"bannerStates":["phone"],"adaptiveOptions":{"tabletWidth":"1280","phoneWidth":"768"},"adUnit":{"bids":[{"bidder":"betweenDigital","params":{"placementId":"4723518","sendTargetRef":true}},{"bidder":"myTarget","params":{"placementId":"1471916"}},{"bidder":"hybrid","params":{"placementId":"65785c802999961c4c035e5e"}},{"bidder":"otm","params":{"placementId":"53750"}},{"bidder":"sape","params":{"placementId":"875061"}},{"bidder":"solta","params":{"placementId":"67-My2Os"}},{"bidder":"buzzoola","params":{"placementId":"1258738","sendTargetRef":true}},{"bidder":"adriver","params":{"placementId":"99:fitnavigator.ru_300x250_M_Overlay"}},{"bidder":"Gnezdo","params":{"placementId":"348848"}}],"sizes":[[300,250],[250,250],[200,200],[300,100],[300,50],[320,100],[320,50]]}},"formatType":"overlay","formatParams":{"height":"250","unitsMeasurement":"px","position":"right","positionPanelClose":"default","startScrollTop":"100","canCloseAfter":"6","refreshAfterClose":"20","overloadAfterLoad":"30","blur":"8"},"active":2,"urlsAllowed":"","urlsForbidden":"","mediaFormatType":"M","styles":""},{"blockId":6919,"blockCaption":"M_Overlay_v2_1","creativeType":"vast","creativeParms":{"previousBlockId":"6916","previousBlockTime":"5","vastSrcs":[{"name":"Moevideo","link":"https:\/\/ad.moe.video\/vast?pid=10733&vpt=inbanner&advertCount=1&vt=vpaid&vl=0&rnd={RANDOM}&referrer="},{"name":"Videonow","link":"https:\/\/data.videonow.ru?profile_id=7374754&format=vast&container=preroll"},{"name":"betweendigital","link":"https:\/\/ads.betweendigital.com\/vpaid?s=4723579&h=250"},{"name":"Buzzoola","link":"https:\/\/exchange.buzzoola.com\/ad\/1258968"},{"name":"Sape","link":"https:\/\/cdn-rtb.sape.ru\/rtb-b\/vast\/080\/875080.xml"}]},"formatType":"overlay","formatParams":{"height":"250","unitsMeasurement":"px","position":"right","positionPanelClose":"default","overloadAfterLoad":"30","blur":"8"},"active":2,"urlsAllowed":"","urlsForbidden":"","mediaFormatType":"M","styles":""}]},"creatives":{"adfox":{"syncPixels":[{"bidder":"betweenDigital","pixels":["https:\/\/ads.betweendigital.com\/sspmatch?p=42565&r=${CACHEBUSTER1}"]},{"bidder":"sape","pixels":["https:\/\/ssp-rtb.sape.ru\/rmatch\/?r=https%3A%2F%2Facint.net%2Fmatch%3Fdp%3D14%26euid%3D%24%7BUSER_ID%7D"]}],"userTimeout":500,"adfoxBiddersMap":{"adriver":1698024,"betweenDigital":1698017,"bidvol":1698023,"buzzoola":1698020,"otm":1698022,"hybrid":1698018,"myTarget":1698016,"sape":1698025,"segmento":1964328,"Gnezdo":2153079,"Kadam":2223821,"clickscloud":2428185,"astralab":2292910,"videonow":2348147,"solta":2724138}},"vast":[]}}})();(()=>{"use strict";var __webpack_modules__={139:(t,e,r)=>{var n=r(705),o=r(906),i=function(){return(1e10*Math.random()).toFixed(0)},a=function(t){var e=t.getBoundingClientRect(),r=document.body,n=document.documentElement,o=window.scrollY||n.scrollTop||r.scrollTop,i=window.scrollX||n.scrollLeft||r.scrollLeft,a=n.clientTop||r.clientTop||0,c=n.clientLeft||r.clientLeft||0;return{top:e.top+o-a,left:e.left+i-c}},c=function(t){var e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX}},u=function(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}},s=function(t){return JSON.parse(JSON.stringify(t))},l=r(473),f=r(307),p=r(958);function d(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S(n.key),n)}}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},b.apply(this,arguments)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=O(t);if(e){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w(this,r)}}function w(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function P(t,e,r){return(e=S(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===h(e)?e:String(e)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(c,t);var e,r,o,a=g(c);function c(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),P(_(n=a.call(this,t,e,r)),"containerId",!1),P(_(n),"bannerOptions",!1),P(_(n),"adUnit",!1),P(_(n),"styles",!1),_(n)?(c.useCreativeOnPage=!0,n.init(t,r),l.G.subscribe("creativeReload",n.blockId,(function(){return n.creativeReload()})),w(n)):w(n,!1)}return e=c,o=[{key:"initBefore",value:function(t){c.hideAdfoxHeaderBidding=!0===(null==t?void 0:t.hideAdfoxHeaderBidding),c.hideAdfoxContext=!0===(null==t?void 0:t.hideAdfoxContext),c.offAdfoxHeaderBidding=!0===(null==t?void 0:t.offAdfoxHeaderBidding);var e=setInterval((function(){void 0!==window.yaContextCb&&(c.yaContextCbInit=!0,clearInterval(e))}),4)}},{key:"initAfter",value:function(t){if(c.useCreativeOnPage){var e;if(!c.offAdfoxHeaderBidding){var r;window.YaHeaderBiddingSettings={biddersMap:t.adfoxBiddersMap,timeout:t.userTimeout},void 0!==t.syncPixels&&(window.YaHeaderBiddingSettings.syncPixels=t.syncPixels),c.adUnits.length>0&&(window.YaHeaderBiddingSettings.adUnits=c.adUnits);var n=null!==(r=window.srcHB)&&void 0!==r?r:"//yandex.ru/ads/system/header-bidding.js";c.hideAdfoxHeaderBidding||document.querySelector('script[src="'.concat(n,'"]'))||f.M.addTag("script",{src:n,async:!0}),c.bidders.indexOf("betweenDigital")>-1&&(f.M.addTag("link",{href:"//ads.betweendigital.com",crossorigin:!0}),p.u.addEventListener(this,"addBetweenScript",document,"DOMContentLoaded",(function(){f.M.addTag("script",{src:"//ads.betweendigital.com/sspmatch-js?p=42565&randsalt="+i(),async:!0},document.body,"beforeend")})))}window.Ya||(window.Ya={}),window.yaContextCb=window.yaContextCb||[],window.Ya.adfoxCode||(window.Ya.adfoxCode={}),window.Ya.adfoxCode.hbCallbacks||(window.Ya.adfoxCode.hbCallbacks=[]);var o=null!==(e=window.srcCONT)&&void 0!==e?e:"//yandex.ru/ads/system/context.js";c.hideAdfoxContext||document.querySelector('script[src*="'.concat(o,'"]'))||f.M.addTag("script",{src:o,async:!0})}}}],(r=[{key:"validParams",value:function(t,e,r){if(!b(O(c.prototype),"validParams",this).call(this,t,e,r))return!1;var o=!1;return"object"!=h(r)?o="Не задан конфиг для adfox":void 0===r.ownerId?o="Не задан ownerId":void 0===r.params?o="Не заданы параметры блока":void 0===r.type?o="Не задан тип блока type":-1===["async","adaptive"].indexOf(r.type)?o="Не верный тип блока type":"adaptive"===r.type&&("object"!=h(r.bannerStates)?o="Для адаптивного блока не задан обязательный параметр bannerStates":"object"!=h(r.adaptiveOptions)&&(o="Для адаптивного блока не задан обязательный параметр adaptiveOptions")),!1===o||(n.T.err(o,t),!1)}},{key:"init",value:function(t,e){this.containerId=e.containerId,this.initBannerOptions(e),this.initHB(),this.initStyles()}},{key:"initBannerOptions",value:function(t){var e=this;this.bannerOptions={ownerId:t.ownerId,sequentialLoading:!0,containerId:this.containerId,params:t.params,onLoad:function(t){n.T.log("Блок ".concat(e.containerId," загружен"),e.blockId),e.isLoaded=!0,e.loadData=t,l.G.publish("adfoxCreativeLoad",e.blockId,{data:t})},onRender:function(t){if(e.isLoaded){delete e.isLoaded,n.T.log("Блок ".concat(e.containerId," отрисован"),e.blockId),e.loadData.winBidder=e.getWinBidder(e.loadData),n.T.log("Загружен биддер - ".concat(e.loadData.winBidder),e.blockId);var r={dataRender:t,loadData:e.loadData,mustShowWrap:e.showWrapForBundle()};l.G.publish("creativeRender",e.blockId,r)}},onError:function(t){n.T.err("Ошибка при загрузке блока ".concat(e.containerId,": "),e.blockId),n.T.err(t,e.blockId),"adfoxBackend"==t.type&&n.T.err("Ошибка настройки блока в Adfox",e.blockId),l.G.publish("adfoxCreativeError",e.blockId,{error:t})},onStub:function(){n.T.info("Отказ в загрузке блока ".concat(e.containerId),e.blockId),l.G.publish("adfoxCreativeStub",e.blockId)},onClose:function(){n.T.info("Закрытие блока ".concat(e.containerId),e.blockId),l.G.publish("creativeClose",e.blockId)}},"object"==h(t.lazyLoad)&&(this.bannerOptions.lazyLoad=t.lazyLoad)}},{key:"showWrapForBundle",value:function(){var t;return-1==["banner.direct","banner.transfer"].indexOf(null===(t=this.loadData)||void 0===t?void 0:t.bundleName)}},{key:"getWinBidder",value:function(t){var e,r=!1;if("bid"==t.bundleName){if(null!==(e=t.bundleParams)&&void 0!==e&&e.bids){var o,i=d(t.bundleParams.bids);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(Number(a.campaign_id)==Number(t.bundleParams.campaignId)){r=a.bidderName;break}}}catch(t){i.e(t)}finally{i.f()}}}else"banner.direct"==t.bundleName?r="РСЯ":"banner.transfer"==t.bundleName?r="mytarget":n.T.err(t,this.blockId);return r}},{key:"initHB",value:function(){var t,e,r,n,o,i,a;if(c.offAdfoxHeaderBidding)return!1;if(!this.checkMediaWidth())return!1;if("object"!=h(null===(t=this.params.adUnit)||void 0===t?void 0:t.bids)||0==this.params.adUnit.bids.length)return!1;this.adUnit=s(this.params.adUnit),this.adUnit.code=this.containerId;var u,l=d(this.adUnit.bids);try{for(l.s();!(u=l.n()).done;){var f=u.value;-1==c.bidders.indexOf(f.bidder)&&c.bidders.push(f.bidder)}}catch(t){l.e(t)}finally{l.f()}if(null!==(e=window.Ya)&&void 0!==e&&null!==(r=e.headerBidding)&&void 0!==r&&null!==(n=r.managerForAdfox)&&void 0!==n&&null!==(o=n.settings)&&void 0!==o&&o.adUnits){var p,y=d(window.Ya.headerBidding.managerForAdfox.settings.adUnits);try{for(y.s();!(p=y.n()).done;)if(p.value.code===this.adUnit.code)return!1}catch(t){y.e(t)}finally{y.f()}}void 0===(null===(i=window.Ya)||void 0===i||null===(a=i.headerBidding)||void 0===a?void 0:a.pr)?c.adUnits.push(this.adUnit):window.Ya.headerBidding.pushAdUnits([this.adUnit])}},{key:"checkMediaWidth",value:function(){var t=window.innerWidth;if("adaptive"==this.params.type){var e,r,n,o,i,a=null!==(e=parseInt(null===(r=this.params.adaptiveOptions)||void 0===r?void 0:r.tabletWidth))&&void 0!==e?e:830,c=null!==(n=parseInt(null===(o=this.params.adaptiveOptions)||void 0===o?void 0:o.phoneWidth))&&void 0!==n?n:480;if(t>a){if(-1==(null===(i=this.params.bannerStates)||void 0===i?void 0:i.indexOf("desktop")))return!1}else if(t>c){var u;if(-1==(null===(u=this.params.bannerStates)||void 0===u?void 0:u.indexOf("tablet")))return!1}else{var s;if(-1==(null===(s=this.params.bannerStates)||void 0===s?void 0:s.indexOf("phone")))return!1}}return!0}},{key:"initStyles",value:function(){if("adaptive"==this.params.type){var t,e,r,n,o=s(this.params.bannerStates);o.sort();var i=null!==(t=parseInt(null===(e=this.params.adaptiveOptions)||void 0===e?void 0:e.tabletWidth))&&void 0!==t?t:830,a=null!==(r=parseInt(null===(n=this.params.adaptiveOptions)||void 0===n?void 0:n.phoneWidth))&&void 0!==r?r:480,c=i+1,u=a+1,l={"desktop,phone,tablet":"","desktop,tablet":"(max-width: ".concat(a,"px)"),desktop:"(max-width: ".concat(i,"px)"),"phone,tablet":"(min-width: ".concat(c,"px)"),phone:"(min-width: ".concat(u,"px)"),"desktop,phone":"(max-width: ".concat(i,"px) and (min-width: ").concat(u,"px)"),tablet:"(min-width: ".concat(c,"px),(max-width: ").concat(a,"px)")},p="#wrap_".concat(this.blockId),d=l[o.join(",")],y=d?"@media ".concat(d,"{").concat(p,"{display:none}}"):"";f.M.addStyle("adfox_"+this.blockId,y)}}},{key:"canRun",value:function(){return b(O(c.prototype),"canRun",this).call(this)&&c.yaContextCbInit&&this.checkMediaWidth()}},{key:"run",value:function(t){b(O(c.prototype),"run",this).call(this),t.container.id=this.containerId,this.getLanchCode()()}},{key:"getLanchCode",value:function(){var t,e=this;return"async"===this.params.type?t=function(){window.yaContextCb.push((function(){n.T.log("async_before",e.blockId),Ya.adfoxCode.create(e.bannerOptions),n.T.log("async_after",e.blockId)}))}:"adaptive"===this.params.type&&(t=function(){window.yaContextCb.push((function(){n.T.log("adaptive_before",e.blockId),Ya.adfoxCode.createAdaptive(e.bannerOptions,e.params.bannerStates,e.params.adaptiveOptions),n.T.log("adaptive_after",e.blockId)}))}),t}},{key:"creativeReload",value:function(){Ya.adfoxCode.reload(this.containerId,{onlyIfWasVisible:!0})}},{key:"reset",value:function(){b(O(c.prototype),"reset",this).call(this),window.Ya.adfoxCode.destroy(this.containerId)}}])&&v(e.prototype,r),o&&v(e,o),Object.defineProperty(e,"prototype",{writable:!1}),c}(o.n);P(k,"useCreativeOnPage",!1),P(k,"yaContextCbInit",!1),P(k,"adUnits",[]),P(k,"bidders",[]),P(k,"hideAdfoxHeaderBidding",!1),P(k,"hideAdfoxContext",!1),P(k,"offAdfoxHeaderBidding",!1);var j=r(714);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==T(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===T(i)?i:String(i)),n)}var o,i}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},I.apply(this,arguments)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x(t);if(e){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(a,t);var e,r,o,i=E(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"validParams",value:function(t,e,r){return!!I(x(a.prototype),"validParams",this).call(this,t,e,r)&&(void 0===r.slots.vox?(n.T.err("Не задан id слота",t),!1):void 0!==r.cssPath||(n.T.err("Не задан путь к изображению",t),!1))}},{key:"canRun",value:function(){return I(x(a.prototype),"canRun",this).call(this)&&"loading"!==document.readyState}},{key:"run",value:function(){if(I(x(a.prototype),"run",this).call(this),void 0===window._tx){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//st.hbrd.io/ssp.js?t="+(new Date).getTime(),(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}window._tx=window._tx||{},window._tx.cmds=window._tx.cmds||[];var e={placeId:this.params.slots.vox,imageSelector:this.params.cssPath},r={};return this.params.canShowDuplicates&&(r.canShowDuplicates=!0),this.params.setDisplayBlock&&(r.setDisplayBlock=!0),window._tx.cmds.push((function(){window._tx.integrateInImage(e),window._tx.init(r)})),!0}}])&&R(e.prototype,r),o&&R(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.n);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G(n.key),n)}}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},N.apply(this,arguments)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=q(t);if(e){var o=q(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W(this,r)}}function W(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}function F(t,e,r){return(e=G(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G(t){var e=function(t,e){if("object"!==A(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===A(e)?e:String(e)}var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(i,t);var e,r,n,o=M(i);function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r))?(i.useCreativeOnPage=!0,W(n)):W(n,!1)}return e=i,n=[{key:"initBefore",value:function(t){i.hideAdfoxContext=!0===(null==t?void 0:t.hideAdfoxContext);var e=setInterval((function(){void 0!==window.yaContextCb&&(i.yaContextCbInit=!0,clearInterval(e))}),4)}},{key:"initAfter",value:function(t){if(i.useCreativeOnPage){var e;window.yaContextCb=window.yaContextCb||[];var r=null!==(e=window.srcCONT)&&void 0!==e?e:"//yandex.ru/ads/system/context.js";!0===(null==t?void 0:t.hideAdfoxContext)||document.querySelector('script[src*="'.concat(r,'"]'))||f.M.addTag("script",{src:r,async:!0})}}}],(r=[{key:"canRun",value:function(){return N(q(i.prototype),"canRun",this).call(this)&&i.yaContextCbInit}},{key:"run",value:function(t){var e=this;N(q(i.prototype),"run",this).call(this),window.yaContextCb.push((function(){Ya.Context.AdvManager.render({type:"fullscreen",platform:"desktop",blockId:e.params.blockId})}))}}])&&L(e.prototype,r),n&&L(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.n);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==U(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===U(i)?i:String(i)),n)}var o,i}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=z(t);if(e){var o=z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}F(H,"useCreativeOnPage",!1),F(H,"hideAdfoxContext",!1),F(H,"yaContextCbInit",!1);var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(i,t);var e,r,n,o=$(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"run",value:function(){return f.M.addTag("script",{async:!0,src:"//cdn.afp.ai/ssp/sdk.js"}),!0}}])&&Y(e.prototype,r),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.n);function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==X(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===X(i)?i:String(i)),n)}var o,i}function Q(){return Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=et(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Q.apply(this,arguments)}function Z(t,e){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=et(t);if(e){var o=et(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(i,t);var e,r,n,o=tt(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"run",value:function(){var t,e;Q(et(i.prototype),"run",this).call(this),t=this.params,(e=document.createElement("script")).src="//cdn1.moe.video/player/mvplayer.min.js",e.onload=function(){addContentRoll({width:"100%",placement:t.slots.moevideo,promo:!0,advertCount:15,slot:"page",sound:"onclick",fly:{mode:"stick",position:"bottom-"+t.position,width:t.width,closeSecOffset:t.closeSecOffset}})},document.body.append(e)}}])&&J(e.prototype,r),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(o.n),nt=r(575);function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ct(n.key),n)}}function at(t,e,r){return(e=ct(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ct(t){var e=function(t,e){if("object"!==ot(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ot(e)?e:String(e)}var ut=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),at(this,"VastCreative",void 0),at(this,"previousBlockId",void 0),at(this,"setPreview",void 0),this.VastCreative=e,this.vastBlockId=e.blockId,this.VastCreative.params.previousBlockId&&this.VastCreative.params.previousBlockTime?(this.setPreview=!0,this.previousBlockId=this.VastCreative.params.previousBlockId,l.G.subscribe("afterFormatLoaded",this.vastBlockId,(function(){return l.G.publish("switchOnExternalLaunch",r.vastBlockId)})),l.G.subscribe("creativeRender",this.previousBlockId,(function(){return r.onPreviousRender()})),l.G.subscribe("firstTimePlay",this.vastBlockId,(function(){return r.onFirstTimePlay()})),l.G.subscribe("onAdsCompletedFromSrc",this.vastBlockId,(function(){return r.onAdsCompletedFromSrc()})),l.G.subscribe("clickCloseBtn",this.previousBlockId,(function(){return r.onClickCloseBtn()})),this.followTopVastToTopOverlay()):this.setPreview=!1}var e,r,n;return e=t,(r=[{key:"onPreviousRender",value:function(){var t=this;l.G.publish("toResetBlock",this.vastBlockId),p.u.setTimeout(this.VastCreative,"delayToRun",(function(){l.G.publish("externalLaunch",t.vastBlockId)}),1e3*parseInt(this.VastCreative.params.previousBlockTime))}},{key:"onFirstTimePlay",value:function(){this.VastCreative.canLoadNextSrc=!1,l.G.publish("switchOnExternalLaunch",this.previousBlockId),l.G.publish("toResetBlock",this.previousBlockId)}},{key:"onAdsCompletedFromSrc",value:function(){this.VastCreative.canLoadNextSrc||(l.G.publish("switchOnPlaceholder",this.vastBlockId),l.G.publish("externalLaunch",this.previousBlockId),l.G.publish("switchOnExternalLaunch",this.vastBlockId),this.VastCreative.canLoadNextSrc=!0)}},{key:"nextSrc",value:function(t,e){var r,n="vastCurSource_"+this.vastBlockId;return this.setPreview&&(e=null!==(r=nt.t.page(n))&&void 0!==r?r:e),++e>=t.length&&(e=!!this.setPreview&&0),nt.t.page(n,e),e}},{key:"onClickCloseBtn",value:function(){l.G.publish("switchOnExternalLaunch",this.vastBlockId),l.G.publish("toResetBlock",this.vastBlockId)}},{key:"followTopVastToTopOverlay",value:function(){var t=this;setInterval((function(){var e=document.getElementById("wrap_"+t.vastBlockId),r=document.getElementById("wrap_"+t.previousBlockId);e&&r?e.style.bottom=r.getBoundingClientRect().height-e.getBoundingClientRect().height+"px":e&&!r&&(e.style.bottom="0px")}),10)}}])&&it(e.prototype,r),n&&it(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mt(n.key),n)}}function ft(){return ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ft.apply(this,arguments)}function pt(t,e){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pt(t,e)}function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=vt(t);if(e){var o=vt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yt(this,r)}}function yt(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ht(t)}function ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}function bt(t,e,r){return(e=mt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mt(t){var e=function(t,e){if("object"!==st(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===st(e)?e:String(e)}var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pt(t,e)}(a,t);var e,r,o,i=dt(a);function a(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),bt(ht(n=i.call(this,t,e,r)),"prevBlockDispatcher",void 0),bt(ht(n),"sources",[]),bt(ht(n),"curSource",-1),bt(ht(n),"ima",null),bt(ht(n),"videoElement",null),bt(ht(n),"adContainer",null),bt(ht(n),"adDisplayContainer",void 0),bt(ht(n),"adsLoader",void 0),bt(ht(n),"adsManager",void 0),bt(ht(n),"waitFirstTimePlay",!0),bt(ht(n),"canLoadNextSrc",!0),ht(n)?(a.useCreativeOnPage=!0,n.sources=r.vastSrcs,n.prevBlockDispatcher=new ut(ht(n)),yt(n)):yt(n,!1)}return e=a,o=[{key:"initAfter",value:function(t){var e="//imasdk.googleapis.com/js/sdkloader/ima3.js";a.useCreativeOnPage&&!document.querySelector('script[src="'.concat(e,'"]'))&&f.M.addTag("script",{src:e,async:!0})}}],(r=[{key:"validParams",value:function(t,e,r){return!!ft(vt(a.prototype),"validParams",this).call(this,t,e,r)&&("object"==st(r.vastSrcs)&&0!==r.vastSrcs.length||(n.T.err("Не задан список источников VAST",t),!1))}},{key:"canRun",value:function(){var t;return ft(vt(a.prototype),"canRun",this).call(this)&&!(null===(t=window.google)||void 0===t||!t.ima)}},{key:"run",value:function(t){ft(vt(a.prototype),"run",this).call(this),l.G.publish("creativeRender",this.blockId),this.initVast(t),this.requestNextSrc()}},{key:"initVast",value:function(t){var e=this;this.ima=window.google.ima,this.ima.settings.setVpaidMode(this.ima.ImaSdkSettings.VpaidMode.INSECURE),t.container.innerHTML="",this.videoElement=f.M.addTag("video",{class:"adfinity-vast-video"},t.container,"beforeend"),this.adContainer=f.M.addTag("div",{class:"adfinity-vast-creative"},t.container,"beforeend"),this.adDisplayContainer=new this.ima.AdDisplayContainer(this.adContainer,this.videoElement),this.adDisplayContainer.initialize(),this.adsLoader=new this.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(this.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){return e.onAdsManagerLoaded(t)})),this.adsLoader.addEventListener(this.ima.AdErrorEvent.Type.AD_ERROR,(function(t){return e.onAdError(t)}))}},{key:"onAdsManagerLoaded",value:function(t){var e=this;n.T.log("vast. Источник ["+this.getCurrentSrc().name+"] загружен",this.blockId);var r=new this.ima.AdsRenderingSettings;this.adsManager=t.getAdsManager(this.videoElement,r),this.adsManager.setVolume(0),this.adsManager.addEventListener(this.ima.AdEvent.Type.LOADED,(function(t){return e.onCreativeLoaded(t)})),this.adsManager.addEventListener(this.ima.AdEvent.Type.STARTED,(function(t){return e.onStartPlay(t)})),this.adsManager.addEventListener(this.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){return e.onAllAdsCompleted(t)})),this.adsManager.init(this.videoElement.clientWidth,this.videoElement.clientHeight,this.ima.ViewMode.NORMAL)}},{key:"onAdError",value:function(t){var e="vast. Источник ["+this.getCurrentSrc().name+"] - "+t.getError().getErrorCode()+": "+t.getError().getMessage();n.T.err(e,this.blockId),this.requestNextSrc()}},{key:"onCreativeLoaded",value:function(t){var e,r;n.T.log("Креатив загружен: "+(null===(e=this.adsManager.getCurrentAd())||void 0===e||null===(r=e.data)||void 0===r?void 0:r.mediaUrl),this.blockId),this.adsManager.start()}},{key:"onStartPlay",value:function(t){n.T.log("Креатив vast запущен",this.blockId),this.waitFirstTimePlay&&(this.waitFirstTimePlay=!1,l.G.publish("firstTimePlay",this.blockId))}},{key:"requestAds",value:function(t){if(this.adsLoader){var e=new this.ima.AdsRequest;e.adTagUrl=t,this.adsLoader.requestAds(e)}}},{key:"onAllAdsCompleted",value:function(){l.G.publish("onAdsCompletedFromSrc",this.blockId),this.canLoadNextSrc&&this.requestNextSrc()}},{key:"requestNextSrc",value:function(){this.curSource=this.prevBlockDispatcher.nextSrc(this.sources,this.curSource),!1===this.curSource?(l.G.publish("switchOnExternalLaunch",this.vastBlockId),l.G.publish("toResetBlock",this.blockId)):(n.T.log("vast. Запрос источника ["+this.getCurrentSrc().name+"]",this.blockId),this.requestAds(this.getCurrentSrc().link))}},{key:"getCurrentSrc",value:function(){return this.sources[this.curSource]}},{key:"reset",value:function(){var t,e,r;return this.waitFirstTimePlay=!0,this.curSource=-1,null===(t=this.adsManager)||void 0===t||t.destroy(),null===(e=this.adsLoader)||void 0===e||e.destroy(),null===(r=this.adDisplayContainer)||void 0===r||r.destroy(),ft(vt(a.prototype),"reset",this).call(this)}}])&&lt(e.prototype,r),o&&lt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.n);bt(gt,"useCreativeOnPage",!1);var wt={creatives:{_empty:o.n,adfox:k,experiment:j.f,vox:B,descktopFullscreen:H,astralab:K,moevideo:rt,vast:gt},create:function(t,e,r){var n;return"function"==typeof this.creatives[e]?n=new this.creatives[e](t,e,r):(n=null,console.error("Нет креатива "+e)),n},initBefore:function(t){for(var e in this.creatives){var r,n;null===(r=(n=this.creatives[e]).initBefore)||void 0===r||r.call(n,t[e])}},initAfter:function(t){for(var e in this.creatives){var r,n;null===(r=(n=this.creatives[e]).initAfter)||void 0===r||r.call(n,t[e])}}};function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function Ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,St(n.key),n)}}function Pt(t,e,r){return(e=St(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function St(t){var e=function(t,e){if("object"!==_t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_t(e)?e:String(e)}var kt=function(){function t(e,r,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Pt(this,"showPageName",void 0),Pt(this,"storageType",void 0),Pt(this,"countPageView",void 0),Pt(this,"countPageViewOrder",void 0),Pt(this,"timePageView",void 0),this.showPageName="shown_page_"+e,this.storageType=r?"local":"session",this.countPageView=parseInt(n),this.countPageViewOrder=parseInt(o),this.timePageView=parseInt(i)}var e,r,n;return e=t,(r=[{key:"check",value:function(){return this.checkFirstShow()&&this.checkNextShow()&&this.checkTimeBetweenShow()}},{key:"checkFirstShow",value:function(){var t;if(null!==(t=!isNaN(this.countPageView))&&void 0!==t?t:this.countPageView>0){var e=nt.t[this.storageType](this.showPageName);if(void 0===e)return nt.t[this.storageType](this.showPageName,this.countPageView-1),!1;if(e>0)return nt.t[this.storageType](this.showPageName,e-1),!1}return!0}},{key:"checkNextShow",value:function(){if(!isNaN(this.countPageViewOrder)){var t="order_"+this.showPageName,e=nt.t[this.storageType](t);if(void 0===e)nt.t[this.storageType](t,this.countPageViewOrder);else{if(e>0)return nt.t[this.storageType](t,e-1),!1;nt.t[this.storageType](t,this.countPageViewOrder)}}return!0}},{key:"checkTimeBetweenShow",value:function(){if(!isNaN(this.timePageView)){var t="time_"+this.showPageName,e=nt.t[this.storageType](t),r=Math.trunc(Date.now()/1e3);if(e){if(!(r-e>=this.timePageView))return!1;nt.t[this.storageType](t,r)}else nt.t[this.storageType](t,r)}return!0}}])&&Ot(e.prototype,r),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,It(n.key),n)}}function Rt(t,e,r){return(e=It(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function It(t){var e=function(t,e){if("object"!==jt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===jt(e)?e:String(e)}var Ct=function(){function t(e,r,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Rt(this,"blockId",!1),Rt(this,"formatType",!1),Rt(this,"params",{}),Rt(this,"isRun",!1),Rt(this,"launchPermissions",{}),this.blockId=e,this.formatType=r,this.params=n,l.G.subscribe("blockReset",this.blockId,(function(){return o.reset()})),l.G.subscribe("switchOnExternalLaunch",this.blockId,(function(){return o.switchOnExternalLaunch()}));var i=this.params;new kt(this.blockId,i.storageLocal,i.countPageView,i.countPageViewOrder,i.timePageView).check()||(this.launchPermissions.storedDisplayBanOnPage=!1),this.params.externalLaunchBan&&this.switchOnExternalLaunch()}var e,r,o;return e=t,(r=[{key:"switchOnExternalLaunch",value:function(){var t=this;this.launchPermissions.externalLaunchBan=!1,l.G.unsubscribe("externalLaunch",this.blockId),l.G.subscribe("externalLaunch",this.blockId,(function(){n.T.log("Внешний запуск",t.blockId),t.launchPermissions.externalLaunchBan=!0}))}},{key:"canRun",value:function(){for(var t in this.launchPermissions)if(!1===this.launchPermissions[t])return!1;return!0}},{key:"run",value:function(){return!this.isRun&&(this.isRun=!0,!0)}},{key:"reset",value:function(){p.u.stopAllSchedulers(this),p.u.removeAllEventListeners(this),this.params.externalLaunchBan&&(this.launchPermissions.externalLaunchBan=!1),this.isRun=!1}}])&&Tt(e.prototype,r),o&&Tt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wt(n.key),n)}}function Bt(){return Bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Bt.apply(this,arguments)}function At(t,e){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},At(t,e)}function Lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Dt(t);if(e){var o=Dt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nt(t)}(this,r)}}function Nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dt(t)}function Mt(t,e,r){return(e=Wt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wt(t){var e=function(t,e){if("object"!==Et(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Et(e)?e:String(e)}var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&At(t,e)}(a,t);var e,r,o,i=Lt(a);function a(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Mt(Nt(n=i.call(this,t,e,r)),"container",!1),Mt(Nt(n),"wrapper",!1),l.G.subscribe("creativeRender",n.blockId,(function(t){return n.finishWrapping(t)})),l.G.subscribe("creativeClose",n.blockId,(function(){return n.close()})),l.G.subscribe("adfoxCreativeStub",n.blockId,(function(){return n.close()})),l.G.subscribe("switchOnPlaceholder",n.blockId,(function(){return n.switchOnPlaceholder()})),l.G.subscribe("switchOffPlaceholder",n.blockId,(function(){return n.switchOffPlaceholder()})),n}return e=a,r=[{key:"run",value:function(){if(!Bt(Dt(a.prototype),"run",this).call(this))return!1;var t="shown_"+this.blockId;if(this.params.dontShowTill){if(nt.t.session(t))return!1;nt.t.session(t,!0,this.params.dontShowTill)}return this.createWrapper(),this.isRun=!0,this.finishWrappingImmediately&&this.finishWrapping(),l.G.publish("creativeToRun",this.blockId,{container:this.container}),this.reloadAfterStart(),!0}},{key:"createWrapper",value:function(){var t,e=this.getObjectToInsert();return!!e&&(e.insertAdjacentHTML(this.getInsertPosition(),this.htmlWrapper()),this.wrapper=document.getElementById(this.getWrapId()),this.container=this.wrapper.querySelector(".adfinity-container"),this.params.blockCaption&&(null===(t=this.wrapper.classList)||void 0===t||t.add(this.params.blockCaption)),this.wrapper)}},{key:"getObjectToInsert",value:function(){return document.body}},{key:"getInsertPosition",value:function(){return"afterbegin"}},{key:"getWrapId",value:function(){return"wrap_"+this.blockId}},{key:"getWrapAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=["adfinity-wrap","adfinity-".concat(this.formatType)].concat(t);return this.params.mediaFormatType&&e.push("adfinity-media-format-type-".concat(this.params.mediaFormatType)),e=e.join(" "),'id="'.concat(this.getWrapId(),'" class="').concat(e,'"')}},{key:"htmlWrapper",value:function(){return"<div ".concat(this.getWrapAttributes(),'><div class="adfinity-body"><div class="adfinity-container"></div></div></div>')}},{key:"finishWrapping",value:function(t){var e,r=this;this.creativeData=t,this.showHeader(),this.params.width&&(this.wrapper.style.maxWidth=this.params.width+"px");var n=this.wrapper.querySelector(".adfinity-close");n&&(n.onclick=function(){return r.close()});var o=parseInt(this.params.height),i=null!==(e=this.params.unitsMeasurement)&&void 0!==e?e:"px";isNaN(o)||(this.container.style.maxHeight=o+i)}},{key:"showHeader",value:function(){var t,e=null!==(t=null==this?void 0:this.htmlHeader())&&void 0!==t?t:"";e&&!this.wrapper.querySelector(".adfinity-header")&&this.wrapper.insertAdjacentHTML("afterbegin",e)}},{key:"htmlHeader",value:function(){return""}},{key:"close",value:function(){l.G.publish("clickCloseBtn",this.blockId),l.G.publish("toResetBlock",this.blockId),this.reloadAfterClose()}},{key:"reset",value:function(){Bt(Dt(a.prototype),"reset",this).call(this),this.isRun=!1,this.removeWrapper()}},{key:"removeWrapper",value:function(){this.wrapper&&this.wrapper.remove(),this.wrapper=!1,delete this.isWrap}},{key:"reloadAfterStart",value:function(){var t=this,e=parseInt(this.params.overloadAfterLoad);isNaN(e)||p.u.setInterval(this,"reloadCreative",(function(){t.isRun&&(n.T.log("Попытка перезагрузки креатива",t.blockId),l.G.publish("creativeReload",t.blockId))}),1e3*e);var r=parseInt(this.params.refreshAfterLoad);isNaN(r)||(this.launchPermissions.allowRefreshAfterLoad=!1,p.u.setInterval(this,"reloadAfterStart",(function(){n.T.log("Перезагрузка всего блока",t.blockId),l.G.publish("toResetBlock",t.blockId),t.launchPermissions.allowRefreshAfterLoad=!0}),1e3*r))}},{key:"reloadAfterClose",value:function(){var t=this;this.launchPermissions.allowedAfterClose=!1;var e=parseInt(this.params.refreshAfterClose);isNaN(e)||(this.launchPermissions.allowRefreshAfterClose=!1,this.launchPermissions.allowedAfterClose=!0,p.u.setTimeout(this,"reloadAfterClose",(function(){t.isRun||(t.launchPermissions.allowRefreshAfterClose=!0)}),1e3*e))}},{key:"switchOnPlaceholder",value:function(){this.whetherShowPlaceholder()&&this.container.classList.add("adfox_placeholder")}},{key:"whetherShowPlaceholder",value:function(){return!0}},{key:"switchOffPlaceholder",value:function(){this.container.classList.remove("adfox_placeholder"),this.container.style.height=null}}],r&&xt(e.prototype,r),o&&xt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ct);function Ft(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Gt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function Ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xt(n.key),n)}}function Yt(){return Yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Yt.apply(this,arguments)}function Vt(t,e){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vt(t,e)}function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Kt(t);if(e){var o=Kt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zt(t)}(this,r)}}function zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kt(t)}function Xt(t){var e=function(t,e){if("object"!==Ht(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ht(e)?e:String(e)}var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vt(t,e)}(i,t);var e,r,n,o=$t(i);function i(t,e,r){var n,a,c,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this,t,e,r),a=zt(n),u=!0,(c=Xt(c="finishWrappingImmediately"))in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u,l.G.subscribe("creativeRender",n.blockId,(function(){return n.switchOffPlaceholder()})),l.G.subscribe("creativeReload",n.blockId,(function(){return n.beforeCreativeReload()}),!0),n}return e=i,r=[{key:"canRun",value:function(){return Yt(Kt(i.prototype),"canRun",this).call(this)&&"object"==Ht(this.getObjectToInsert())}},{key:"createWrapper",value:function(){var t=Yt(Kt(i.prototype),"createWrapper",this).call(this);if(!t)return!1;if("vh"===this.params.unitsMeasurement&&(this.container.style.overflowY="hidden"),this.switchOnPlaceholder(),this.params.heightPlaceholder){var e,r=null!==(e=this.params.unitsMeasurementPlaceholder)&&void 0!==e?e:"px";this.container.style.minHeight=this.params.heightPlaceholder+r}return this.params.infinityScroll&&this.cycleInsert(),t}},{key:"whetherShowPlaceholder",value:function(){var t;return!(null===(t=this.params)||void 0===t||!t.showPlaceholder)}},{key:"beforeCreativeReload",value:function(){this.container.style.height=getComputedStyle(this.container).height,this.switchOnPlaceholder()}},{key:"getObjectToInsert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"object"===Ht(this.params.objectToInsert)?!1===t?[this.params.objectToInsert]:this.params.objectToInsert:"xPath"===this.params.typeEmbedding?f.M.getObjectByXPath(this.params.cssPath,t):f.M.getObjectByPath(this.params.cssPath,t)}},{key:"getInsertPosition",value:function(){return this.params.cssPosition}},{key:"cycleInsert",value:function(){var t=this;this.listAditionalBlocks=new Set,this.chainInfinityScroll=[this],p.u.setInterval(this,"infinityScrollClone",(function(){if(t.isRun){var e,r=window.adfinity.block(t.blockId),n=Ft(t.getObjectToInsert(!1));try{for(n.s();!(e=n.n()).done;){var o=e.value;if(0===t.listAditionalBlocks.size&&t.listAditionalBlocks.add(o),!t.listAditionalBlocks.has(o)){t.listAditionalBlocks.add(o);var i=s(r.props);i.blockId=t.blockId+"-"+(t.listAditionalBlocks.size+1),i.creativeParms.containerId+="-"+(t.listAditionalBlocks.size+1),delete i.formatParams.cssPath,delete i.formatParams.infinityScroll,i.formatParams.objectToInsert=o;var a=window.adfinity.loadBlock(i);a&&(t.chainInfinityScroll.push(a.format),a.format.chainInfinityScroll=t.chainInfinityScroll)}}}catch(t){n.e(t)}finally{n.f()}}}),200)}}],r&&Ut(e.prototype,r),n&&Ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(qt);function Qt(t){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(t)}function Zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Qt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Qt(i)?i:String(i)),n)}var o,i}function te(){return te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ne(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},te.apply(this,arguments)}function ee(t,e){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ee(t,e)}function re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ne(t);if(e){var o=ne(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ne(t){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ne(t)}var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ee(t,e)}(i,t);var e,r,n,o=re(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"createWrapper",value:function(t){var e=this,r=te(ne(i.prototype),"createWrapper",this).call(this);if(r){var n=parseInt(this.params.topStickToTop);n=n||0,r.style.position="static",p.u.addEventListener(this,"setStickPoint",window,"DOMContentLoaded",(function(){return a(r).top}));var o=!1;p.u.addEventListener(this,"changeStateTopsticky",window,"scroll",(function(){if(!o){var t=a(r).top,i=window.scrollY,c="fixed"===r.style.position;t-i<n&&!c&&(o=!0,r.style.width=r.clientWidth+"px",r.style.position="fixed",r.style.top=n+"px",p.u.setTimeout(e,"setTopStickyStatic",(function(){r.style.position="static"}),1e3*e.params.topStickTime))}}))}return r}}])&&Zt(e.prototype,r),n&&Zt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Jt);function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,de(n.key),n)}}function ce(){return ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fe(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ce.apply(this,arguments)}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ue(t,e)}function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=fe(t);if(e){var o=fe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return le(t)}(this,r)}}function le(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}function pe(t,e,r){return(e=de(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function de(t){var e=function(t,e){if("object"!==ie(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ie(e)?e:String(e)}var ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(i,t);var e,r,n,o=se(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return pe(le(t=o.call.apply(o,[this].concat(r))),"stopScrollStatus",1),pe(le(t),"scrollProgress",0),pe(le(t),"lastCoordScrollY",!1),pe(le(t),"deltaTouchMove",0),pe(le(t),"wasTouch",!1),t}return e=i,(r=[{key:"run",value:function(){return!!ce(fe(i.prototype),"run",this).call(this)&&(void 0!==this.params.stopScroll&&this.initStopScroll(),!0)}},{key:"htmlWrapper",value:function(){return void 0!==this.params.stopScroll?"<div ".concat(this.getWrapAttributes(),">")+'<div class="adfinity-shell-progressbar"><div class="adfinity-stopScroll-progressbar"></div></div><div class="adfinity-body"><div class="adfinity-container"></div></div></div>':ce(fe(i.prototype),"htmlWrapper",this).call(this)}},{key:"initStopScroll",value:function(){this.shellProgressbar=this.wrapper.querySelector(".adfinity-shell-progressbar"),this.progressbar=this.wrapper.querySelector(".adfinity-stopScroll-progressbar"),this.getTopDelta()<0&&this.setStatus(3),this.initEvents(),this.initStyles()}},{key:"initEvents",value:function(){var t=this;p.u.addEventListener(this,"touchstart",window,"touchstart",(function(e){t.lastCoordScrollY=e.touches[0].clientY,t.wasTouch=!0})),p.u.addEventListener(this,"touchmove",window,"touchmove",(function(e){!1!==t.lastCoordScrollY?(t.deltaTouchMove=e.touches[0].clientY-t.lastCoordScrollY,t.lastCoordScrollY=e.touches[0].clientY,t.statusProcessing()):t.lastCoordScrollY=e.touches[0].clientY})),p.u.addEventListener(this,"touchend",window,"touchend",(function(){return t.lastCoordScrollY=!1})),p.u.addEventListener(this,"touchcancel",window,"touchcancel",(function(){return t.lastCoordScrollY=!1})),p.u.addEventListener(this,"scroll",window,"scroll",(function(){return t.onScrollWindow()})),p.u.setInterval(this,"updateHeigthProgressBar",(function(){return t.renderProgressBar()}),50)}},{key:"initStyles",value:function(){var t=[],e=[];this.params.stopScrollPBbgcolor&&e.push("background-color:".concat(this.params.stopScrollPBbgcolor)),this.params.stopScrollPBwidth&&e.push("width:".concat(this.params.stopScrollPBwidth,"px")),e.length>0&&t.push("#".concat(this.getWrapId()," .adfinity-shell-progressbar{").concat(e.join(";"),"}")),this.params.stopScrollPBcolor&&t.push("#".concat(this.getWrapId()," .adfinity-stopScroll-progressbar{background-color:").concat(this.params.stopScrollPBcolor,"}")),t.length>0&&f.M.addStyle("stopScroll"+this.blockId,t.join(""))}},{key:"statusProcessing",value:function(){var t=this.getTopDelta(),e=1;switch(this.stopScrollStatus){case 1:t<=0&&(e=2);break;case 2:this.processProgress(),e=0===this.scrollProgress?1:1===this.scrollProgress?3:2;break;case 3:e=t>0?2:3}e!==this.stopScrollStatus&&this.setStatus(e),2==e&&this.scrollToTop()}},{key:"getTopDelta",value:function(){return Math.round(this.wrapper.getBoundingClientRect().top)}},{key:"setStatus",value:function(t){this.wrapper.dataset.stopScrollStatus=t,this.stopScrollStatus=t,2==t?(document.body.classList.add("adfinity-stopScrollBody"),this.scrollToTop()):document.body.classList.remove("adfinity-stopScrollBody"),1===t?this.scrollProgress=0:3===t&&(this.scrollProgress=1),this.processProgress()}},{key:"processProgress",value:function(){this.scrollProgress=this.scrollProgress-this.deltaTouchMove/(window.innerHeight*this.params.stopScrollHeight/100),this.scrollProgress>1&&(this.scrollProgress=1),this.scrollProgress<0&&(this.scrollProgress=0),this.renderProgressBar()}},{key:"renderProgressBar",value:function(){this.progressbar.style.height=this.scrollProgress*this.container.offsetHeight+"px",this.shellProgressbar.style.height=this.wrapper.offsetHeight+"px"}},{key:"scrollToTop",value:function(){var t=this.getTopDelta();0!=t&&window.scrollTo(0,t+window.scrollY)}},{key:"onScrollWindow",value:function(){if(this.wasTouch&&!1===this.lastCoordScrollY){var t=this.getTopDelta();(3===this.stopScrollStatus&&t>0||1===this.stopScrollStatus&&t<0)&&this.setStatus(2)}}}])&&ae(e.prototype,r),n&&ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Jt);function he(t){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(t)}function ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pe(n.key),n)}}function be(){return be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_e(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},be.apply(this,arguments)}function me(t,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},me(t,e)}function ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_e(t);if(e){var o=_e(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===he(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return we(t)}(this,r)}}function we(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _e(t){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_e(t)}function Oe(t,e,r){return(e=Pe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pe(t){var e=function(t,e){if("object"!==he(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===he(e)?e:String(e)}var Se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}(i,t);var e,r,n,o=ge(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Oe(we(t=o.call.apply(o,[this].concat(r))),"blockNext",!1),Oe(we(t),"stateBlock","stateFirst"),t}return e=i,(r=[{key:"createWrapper",value:function(){var t=be(_e(i.prototype),"createWrapper",this).call(this);return this.params.topStick&&this.elStickyTop(t),t}},{key:"htmlWrapper",value:function(){return"<div ".concat(this.getWrapAttributes(),">")+'<div id="stick_'.concat(this.blockId,'" class="adfinity-inner-').concat(this.formatType,'"><div class="adfinity-body"><div class="adfinity-container"></div></div></div>')+"</div>"}},{key:"elStickyTop",value:function(t){var e=this,r=this.wrapper.firstChild,n=parseInt(this.params.topStickToTop);n=n||0;var o=!1;t.style.position="static",t.style.background="#F5FCFF00",r.style.position="static",p.u.setInterval(this,"placeholderHeight",(function(){t.style.height=t.querySelector(".adfinity-body").clientHeight+"px",o=c(t).top}),50),p.u.addEventListener(this,"changeStateSidebar",document,"scroll",(function(){var t=e.getStateBlock(n);if("stateFirst"===t&&(r.style.position="static",r.style.top="0px"),"stateSecond"===t&&(r.style.width=r.clientWidth+"px",r.style.position="fixed",r.style.zIndex=1e3,r.style.top=n+"px"),"stateThird"===t){r.style.position="relative";var i=!1,a=e.getBlockNext();a?i=c(a.wrapper).top-o-r.clientHeight-n:e.params.stopStick&&null!==document.querySelector(e.params.stopStick)&&(i=c(document.querySelector(e.params.stopStick)).top-n-o-r.clientHeight),r.style.top=i+"px"}}))}},{key:"getStateBlock",value:function(t){if(u(this.wrapper).top>0)return"stateFirst";var e=this.getBlockNext(),r=this.wrapper.clientHeight;return e||this.params.stopStick?!e&&this.params.stopStick?null!==document.querySelector(this.params.stopStick)&&c(document.querySelector(this.params.stopStick)).top-t-window.scrollY<=r?"stateThird":"stateSecond":e?u(e.wrapper).top-2*t>r?"stateSecond":"stateThird":void 0:"stateSecond"}},{key:"getBlockNext",value:function(){if(this.blockNext)return this.blockNext;if(!this.chainInfinityScroll)return this.blockNext=!1,this.blockNext;var t=this.chainInfinityScroll.length;for(var e in this.chainInfinityScroll)if(this.chainInfinityScroll[e].blockId===this.blockId&&e<=t-2)return this.blockNext=this.chainInfinityScroll[Number(e)+1],this.blockNext}}])&&ve(e.prototype,r),n&&ve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Jt);function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function je(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xe(n.key),n)}}function Te(){return Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ee(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Te.apply(this,arguments)}function Re(t,e){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Re(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ee(t);if(e){var o=Ee(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ce(t)}(this,r)}}function Ce(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ee(t){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ee(t)}function xe(t){var e=function(t,e){if("object"!==ke(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ke(e)?e:String(e)}var Be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Re(t,e)}(i,t);var e,r,n,o=Ie(i);function i(t,e,r){var n,a,c,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this,t,e,r),a=Ce(n),u=!0,(c=xe(c="allowLaunch"))in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u;var s=parseInt(n.params.startTime),l=parseInt(n.params.startScrollTop);return isNaN(s)&&isNaN(l)||(n.launchPermissions.allowWhenPageEvent=!1,isNaN(s)||p.u.setTimeout(Ce(n),"delayedLaunch",(function(){return n.launchPermissions.allowWhenPageEvent=!0}),1e3*s),isNaN(l)||p.u.addEventListener(Ce(n),"startScrollTop",document,"scroll",(function(){window.scrollY>=l&&(n.launchPermissions.allowWhenPageEvent=!0)}))),n}return e=i,(r=[{key:"canRun",value:function(){if("interactive"===document.readyState||"complete"===document.readyState)return Te(Ee(i.prototype),"canRun",this).call(this)}},{key:"getInsertPosition",value:function(){var t="afterbegin";return void 0!==this.params.positionInBody&&(t="beforeEnd"),t}},{key:"showHeader",value:function(){var t;Te(Ee(i.prototype),"showHeader",this).call(this),!1!==this.params.blur&&(null===(t=this.turnOnBlur)||void 0===t||t.call(this)),this.createTimer(this.params.canCloseAfter)}},{key:"turnOnBlur",value:function(){var t=this.wrapper.querySelector(".adfinity-body");t&&(t.style.backdropFilter="blur("+this.params.blur+"px)",CSS.supports("-webkit-backdrop-filter","blur("+this.params.blur+"px)")&&(t.style.webkitBackdropFilter="blur("+this.params.blur+"px)"))}},{key:"createTimer",value:function(t){var e=this,r=this.wrapper;if(this.timeToClose=parseInt(t),!isNaN(this.timeToClose)){r.classList.add("adfinity-show-to-close");var n=r.querySelector(".adfinity-to-close-num");n&&(n.innerText=this.timeToClose.toString()),p.u.setInterval(this,"timerId",(function(){--e.timeToClose<0?(p.u.stopScheduler(e,"timerId"),r.classList.remove("adfinity-show-to-close"),e.params.autoClose&&e.close()):n&&(n.innerText=e.timeToClose.toString())}),1e3)}}}])&&je(e.prototype,r),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(qt);function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Ae(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ae(i)?i:String(i)),n)}var o,i}function Ne(){return Ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=We(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ne.apply(this,arguments)}function De(t,e){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},De(t,e)}function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=We(t);if(e){var o=We(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function We(t){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},We(t)}var qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&De(t,e)}(i,t);var e,r,n,o=Me(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"htmlHeader",value:function(t){return this.showHead()?(this.wrapper.classList.add("adfinity-z-index"),document.querySelector("body").classList.add("adfinity-overflow-hidden"),'<div class="adfinity-header"><div class="adfinity-to-close"><span>До закрытия блока </span><div class="adfinity-to-close-num"></div></div><div class="adfinity-progress-line"></div><div class="adfinity-close"></div></div>'):""}},{key:"createWrapper",value:function(){var t=Ne(We(i.prototype),"createWrapper",this).call(this);return!!t&&(this.showHead()||this.wrapper.querySelector(".adfinity-body").classList.add("adfinity-body-no-shadow"),t)}},{key:"createTimer",value:function(t){var e=this;if(Ne(We(i.prototype),"createTimer",this).call(this,t),!isNaN(this.timeToClose)&&this.showHead()){var r=this.wrapper.querySelector(".adfinity-progress-line");if(r){var n=10/this.timeToClose;p.u.setInterval(this,"timerLine",(function(){r.style.width=Number(r.style.width.replace("%",""))+n+"%",e.timeToClose<0&&(p.u.stopScheduler(e,"timerLine"),r.style.width="100%")}),100)}}}},{key:"showHead",value:function(){var t;return this.params.wrapForever||!(null===(t=this.creativeData)||void 0===t||!t.mustShowWrap)}},{key:"reset",value:function(){var t,e;null===(t=this.wrapper)||void 0===t||null===(e=t.classList)||void 0===e||e.remove("adfinity-z-index"),document.querySelector("body").classList.remove("adfinity-overflow-hidden"),Ne(We(i.prototype),"reset",this).call(this)}}])&&Le(e.prototype,r),n&&Le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Be);function Fe(t){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(t)}function Ge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ze(n.key),n)}}function He(){return He="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$e(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},He.apply(this,arguments)}function Ue(t,e){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ue(t,e)}function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$e(t);if(e){var o=$e(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ve(t)}(this,r)}}function Ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $e(t){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$e(t)}function ze(t){var e=function(t,e){if("object"!==Fe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Fe(e)?e:String(e)}var Ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ue(t,e)}(i,t);var e,r,n,o=Ye(i);function i(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return t=o.call.apply(o,[this].concat(c)),e=Ve(t),n=null,(r=ze(r="substrateNode"))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,t}return e=i,(r=[{key:"createWrapper",value:function(){return!!He($e(i.prototype),"createWrapper",this).call(this)&&(this.params.position&&this.wrapper.classList.add("adfinity-position-"+this.params.position),this.wrapper)}},{key:"htmlHeader",value:function(t){var e="";return this.params.positionPanelClose&&(e="adfinity-header-position-".concat(this.params.positionPanelClose)),'<div class="adfinity-header '.concat(e,'">')+'<div class="adfinity-to-close"><div class="adfinity-to-close-num"></div></div><div class="adfinity-close"></div></div>'}},{key:"finishWrapping",value:function(){He($e(i.prototype),"finishWrapping",this).call(this),this.renderSubstrate()}},{key:"renderSubstrate",value:function(){if(!this.params.hideBottomSubstrate){var t=this.wrapper.querySelector(".adfinity-body");this.substrateNode||(document.body.insertAdjacentHTML("beforeend",'<div id="adfinity-overlay-substrate"></div>'),this.substrateNode=document.getElementById("adfinity-overlay-substrate")),this.substrateNode.style.height=getComputedStyle(t).height}}},{key:"reset",value:function(){this.substrateNode&&this.substrateNode.remove(),He($e(i.prototype),"reset",this).call(this)}}])&&Ge(e.prototype,r),n&&Ge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Be);function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Je(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Xe(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Xe(i)?i:String(i)),n)}var o,i}function Qe(t,e){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qe(t,e)}function Ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=tr(t);if(e){var o=tr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function tr(t){return tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tr(t)}var er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qe(t,e)}(i,t);var e,r,n,o=Ze(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r&&Je(e.prototype,r),n&&Je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(ye);function rr(t){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(t)}function nr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==rr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===rr(i)?i:String(i)),n)}var o,i}function or(){return or="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},or.apply(this,arguments)}function ir(t,e){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ir(t,e)}function ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=cr(t);if(e){var o=cr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===rr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function cr(t){return cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cr(t)}function ur(t){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(t)}function sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==ur(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ur(i)?i:String(i)),n)}var o,i}function lr(){return lr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},lr.apply(this,arguments)}function fr(t,e){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fr(t,e)}function pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=dr(t);if(e){var o=dr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function dr(t){return dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dr(t)}var yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fr(t,e)}(i,t);var e,r,n,o=pr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"canRun",value:function(){if(!lr(dr(i.prototype),"canRun",this).call(this))return!1;var t=this.params.minSizeForWindow,e=this.params.maxSizeForWindow,r=!t||t<window.innerWidth,n=!e||e>=window.innerWidth;return r&&n}}])&&sr(e.prototype,r),n&&sr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ir(t,e)}(i,t);var e,r,n,o=ar(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"run",value:function(){if(!or(cr(i.prototype),"run",this).call(this))return!1;l.G.publish("creativeToRun",this.blockId,{container:this.container})}}])&&nr(e.prototype,r),n&&nr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ct));function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function vr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==hr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===hr(i)?i:String(i)),n)}var o,i}function br(){return br="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_r(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},br.apply(this,arguments)}function mr(t,e){return mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mr(t,e)}function gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_r(t);if(e){var o=_r(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===hr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wr(t)}(this,r)}}function wr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _r(t){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_r(t)}var Or={formats:{overlay:Ke,fullscreen:qe,content:ye,sidebar:Se,trap:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mr(t,e)}(i,t);var e,r,n,o=gr(i);function i(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e,r)).params.switchOnInternalLinkBlock&&(n.finishWrappingImmediately=!0),n.launchPermissions.trapShow=!1,p.u.addEventListener(wr(n),"mouseOverTop",window,"mousemove",(function(t){t.y<=50&&(n.launchPermissions.trapShow=!0)})),n}return e=i,(r=[{key:"canRun",value:function(){return br(_r(i.prototype),"canRun",this).call(this)&&window.innerWidth>this.params.widthDevice}},{key:"createWrapper",value:function(){var t=br(_r(i.prototype),"createWrapper",this).call(this);return t&&setTimeout((function(){return t.classList.remove("adfinity-trap-hidden")}),0),t}},{key:"htmlWrapper",value:function(){var t,e=this.params.switchOnInternalLinkBlock?this.renderInternalLink():"",r=this.params.switchOnAdvertBlock?'<div class="adfinity-container"></div>':"";return t="internalLink"===this.params.whichBlockFirst?e+r:r+e,"<div ".concat(this.getWrapAttributes(["adfinity-trap-hidden"]),'><div class="adfinity-body">').concat(t,"</div></div>")}},{key:"renderInternalLink",value:function(){var t=this.params.internalLinkList,e=Math.floor(Math.random()*t.url.length),r=this.params.position,n=["full"===r?"":".adfinity-trap-hidden{".concat(r,":-").concat(this.params.width-5,"px!important}"),".adfinity-trap-content{background-color:".concat(this.params.colorBackground,"}"),".adfinity-trap-title{color:".concat(this.params.colorTitle,"}"),".adfinity-trap-description{color:".concat(this.params.colorDecription,"}"),".adfinity-trap-button{color:".concat(this.params.colorBtnTxt,";background-color:").concat(this.params.colorBtn,"}"),".adfinity-trap-img{background-image:url('".concat(t.image[e],"')!important}")];f.M.addStyle("trap",n.join(""));var o='<div class="adfinity-trap-title">'.concat(t.title[e],"</div>"),i='<div class="adfinity-trap-description">'.concat(t.description[e],"</div>"),a='<div class="adfinity-trap-text">'.concat(o).concat(i).concat('<div class="adfinity-trap-button">Читать статью</div>',"</div>");return'<a href="'.concat(t.url[e],'" class="adfinity-trap-content">').concat(a).concat('<div class="adfinity-trap-img-block"><div class="adfinity-trap-img"></div></div>',"</a>")}}])&&vr(e.prototype,r),n&&vr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ke),topSticky:oe,rv:er,nowrap:yr},create:function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"function"==typeof this.formats[e]?r=new this.formats[e](t,e,n):(r=null,console.error("Нет формата "+e)),r}};function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function Sr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return kr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kr(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function kr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rr(n.key),n)}}function Tr(t,e,r){return(e=Rr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rr(t){var e=function(t,e){if("object"!==Pr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Pr(e)?e:String(e)}var Ir=function(){function t(e){var r,o=this;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Tr(this,"canShowOnPage",!0),Tr(this,"run",!1),Tr(this,"blockId",!1),Tr(this,"blockCaption",!1),Tr(this,"mediaFormatType",!1),Tr(this,"format",!1),Tr(this,"creative",!1),Tr(this,"styles",!1),this.blockId=e.blockId,this.blockCaption=e.blockCaption,this.mediaFormatType=null!==(r=e.mediaFormatType)&&void 0!==r?r:"D",this.props=e,this.checkUrl(e.urlsForbidden,e.urlsAllowed)?!!this.validParams(e)&&(this.creative=wt.create(this.blockId,e.creativeType,e.creativeParms),!!this.creative&&(l.G.publish("afterCreativeLoaded",this.blockId),e.formatParams.mediaFormatType=this.mediaFormatType,e.formatParams.blockCaption=this.blockCaption,this.format=Or.create(this.blockId,e.formatType,e.formatParams),!!this.format&&(l.G.publish("afterFormatLoaded",this.blockId),void l.G.subscribe("toResetBlock",this.blockId,(function(){return o.reset()}))))):(this.canShowOnPage=!1,n.T.info("Не выводить блок на этой странице",this),!1)}var e,r,o;return e=t,(r=[{key:"checkUrl",value:function(t,e){var r=!0,n=window.location.href.split(window.location.host)[1];if(Array.isArray(e)&&e.length>0){r=!1;var o,i=Sr(e);try{for(i.s();!(o=i.n()).done;){var a=o.value,c=new RegExp(a);if(n.match(c)){r=!0;break}}}catch(t){i.e(t)}finally{i.f()}}if(!0===r&&Array.isArray(t)&&t.length>0){var u,s=Sr(t);try{for(s.s();!(u=s.n()).done;){var l=u.value,f=new RegExp(l);if(n.match(f)){r=!1;break}}}catch(t){s.e(t)}finally{s.f()}}return r}},{key:"validParams",value:function(t){var e=!1;return t.blockId?t.formatType?t.formatParams||(e="Не заданы параметры формата"):e="Не задан формат":e="Не задан blockId",t.creativeType||(e="Не задан креатив"),t.creativeParms||(e="Не заданы параметры креатива"),!1===e||(n.T.err(e,this),!1)}},{key:"addToPage",value:function(){var t,e,r,n,o,i,a=null!==(t=null===(e=(r=this.format).addToPage)||void 0===e?void 0:e.call(r))&&void 0!==t?t:{},c=null!==(n=null===(o=(i=this.creative).addToPage)||void 0===o?void 0:o.call(i))&&void 0!==n?n:{},u={};for(var s in a)u[s]=a[s];for(var l in c)u[l]=c[l];return u}},{key:"tryRun",value:function(){var t,e,r,o;return this.run?"alreadyRun":!!(this.canShowOnPage&&null!==(t=(e=this.format).canRun)&&void 0!==t&&t.call(e)&&null!==(r=(o=this.creative).canRun)&&void 0!==r&&r.call(o))&&(this.format.run(),this.run=!0,n.T.log("Запуск блока",this),this.initStyles(this.props.styles),!0)}},{key:"initStyles",value:function(t){t&&f.M.addStyle("block_"+this.blockId,t)}},{key:"reset",value:function(){p.u.stopAllSchedulers(this),p.u.removeAllEventListeners(this),this.creative.reset(),this.format.reset(),this.run=!1,n.T.log("Блок выгружен",this.blockId)}}])&&jr(e.prototype,r),o&&jr(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Cr(t){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(t)}function Er(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return xr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xr(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function xr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Br(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lr(n.key),n)}}function Ar(t,e,r){return(e=Lr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lr(t){var e=function(t,e){if("object"!==Cr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Cr(e)?e:String(e)}(function(){function t(e){var r=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ar(this,"blocks",new Map),Ar(this,"listAddToPage",new Map),f.M.init(),!f.M.checkDomain(e.domains)||!f.M.checkUrlForShow(e.url_exception))return!1;wt.initBefore(e.creatives),this.loadBlocks(e.siteConfig.blocks),wt.initAfter(e.creatives),this.loadStyles(e),p.u.setInterval(this,"mainCycleOfBlocks",(function(){return r.tryRunBlocks()}),50),e.is_spa&&this.reloadApplicationIfPageChange()}var e,r,o;return e=t,o=[{key:"startApplication",value:function(){window.adfinity=new this(window.adfinityData)}}],(r=[{key:"block",value:function(t){return this.blocks.get(t)}},{key:"loadBlocks",value:function(t){var e,r=Er(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;2==n.active&&this.loadBlock(n)}}catch(t){r.e(t)}finally{r.f()}}},{key:"loadBlock",value:function(t){if(!this.blocks.has(t.blockId)){var e=new Ir(t);if(e)return this.blocks.set(e.blockId,e),this.addToPage(e),e}return!1}},{key:"addToPage",value:function(t){var e,r,n=null!==(e=null===(r=t.addToPage)||void 0===r?void 0:r.call(t))&&void 0!==e?e:{};for(var o in n)if(!this.listAddToPage.has(o)){var i,a,c=n[o];"function"==typeof c&&c(),"object"==Cr(c)&&c.tag&&f.M.addTag(c.tag,c.attrs,null!==(i=c.el)&&void 0!==i?i:null,null!==(a=c.pos)&&void 0!==a?a:null),this.listAddToPage.set(o,c)}}},{key:"tryRunBlocks",value:function(){this.blocks.forEach((function(t){var e;return null===(e=t.tryRun)||void 0===e?void 0:e.call(t)}))}},{key:"loadStyles",value:function(t){var e={href:t.staticUrl+"/css/adfinity.css",rel:"stylesheet",charset:"utf-8"};f.M.addTag("link",e)}},{key:"logs",value:function(){return n.T}},{key:"storage",value:function(){return nt.t}},{key:"event",value:function(){return l.G}},{key:"reset",value:function(){this.blocks.forEach((function(t){l.G.unsubscribeBlock(t.blockId),t.reset()})),p.u.stopAllSchedulers(this),delete window.adfinity}},{key:"reloadApplicationIfPageChange",value:function(){var e=this;p.u.setInterval(this,"checkPageChange",(function(){f.M.hasChangedCurrentPage()&&(e.reset(),t.startApplication())}),10)}}])&&Br(e.prototype,r),o&&Br(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t})().startApplication()},714:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>CreativeExperiment});var _base_BaseCreative__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(906),_utils_page__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(307),_utils_logs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(705),_utils_resources__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(958);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=_superPropBase(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_get.apply(this,arguments)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var CreativeExperiment=function(_BaseCreative){_inherits(CreativeExperiment,_BaseCreative);var _super=_createSuper(CreativeExperiment);function CreativeExperiment(){return _classCallCheck(this,CreativeExperiment),_super.apply(this,arguments)}return _createClass(CreativeExperiment,[{key:"canRun",value:function canRun(){var _this$params$addition;if(!_get(_getPrototypeOf(CreativeExperiment.prototype),"canRun",this).call(this))return!1;var addCondition=null===(_this$params$addition=this.params.additional_insertion_condition)||void 0===_this$params$addition?void 0:_this$params$addition.replace(/^\s+|\s+$/gm,"");if(addCondition)try{if(!eval(addCondition))return!1}catch(t){return _utils_logs__WEBPACK_IMPORTED_MODULE_2__.T.err("Синтаксическая ошибка в дополнительном условии вставки",this.blockId),!1}return!0}},{key:"run",value:function(){if(!_get(_getPrototypeOf(CreativeExperiment.prototype),"run",this).call(this))return!1;if(this.params.script_head&&this.insertScriptHead(),this.params.script_body){var t=this.params.cssPath,e=this.params.cssPosition;this.insertScriptBody(t,e)}return!0}},{key:"insertScriptHead",value:function(){this.params.script_head.forEach((function(t){_utils_page__WEBPACK_IMPORTED_MODULE_1__.M.addTag(t.tag,t.attributes,null,"beforeEnd",t.content)}))}},{key:"insertScriptBody",value:function(t,e){var r=this;t=t||"body",e=e||"afterbegin",_utils_resources__WEBPACK_IMPORTED_MODULE_3__.u.setInterval(this,"waitObjectByCss",(function(){var n=_utils_page__WEBPACK_IMPORTED_MODULE_1__.M.getObjectByPath(t);n&&(_utils_resources__WEBPACK_IMPORTED_MODULE_3__.u.stopScheduler(r,"waitObjectByCss"),r.params.script_body.forEach((function(t){_utils_page__WEBPACK_IMPORTED_MODULE_1__.M.addTag(t.tag,t.attributes,n,e,t.content)})))}),50)}}]),CreativeExperiment}(_base_BaseCreative__WEBPACK_IMPORTED_MODULE_0__.n)},906:(t,e,r)=>{r.d(e,{n:()=>s});var n=r(473),o=r(958);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function c(t,e,r){return(e=u(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}var s=function(){function t(e,r,o){var i=this;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"blockId",!1),c(this,"creativeType",!1),c(this,"params",!1),!!this.validParams(e,r,o)&&(this.blockId=e,this.creativeType=r,this.params=o,n.G.subscribe("creativeToRun",this.blockId,(function(t){return i.run(t)})),n.G.subscribe("blockReset",this.blockId,(function(){return i.reset()})),!0)}var e,r,i;return e=t,(r=[{key:"validParams",value:function(t,e,r){return!0}},{key:"canRun",value:function(){return!0}},{key:"run",value:function(){return!0}},{key:"reset",value:function(){return o.u.stopAllSchedulers(this),o.u.removeAllEventListeners(this),!1}}])&&a(e.prototype,r),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},473:(t,e,r)=>{r.d(e,{G:()=>a});var n=r(705);function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a={channels:{},subscribe:function(t,e,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"function"==typeof r?(void 0===this.channels[t]&&(this.channels[t]={}),void 0===this.channels[t][e]&&(this.channels[t][e]=[]),o?this.channels[t][e].unshift(r):this.channels[t][e].push(r)):n.T.err("При подписке на событие ".concat([t]).concat([e]," передана не функция"),e)},publish:function(t,e){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Array.isArray(null===(r=this.channels[t])||void 0===r?void 0:r[e])){var a,c=o(this.channels[t][e]);try{for(c.s();!(a=c.n()).done;){var u=a.value;try{u(i)}catch(t){n.T.err(t,e)}}}catch(t){c.e(t)}finally{c.f()}}},unsubscribeBlock:function(t){for(var e in this.channels)this.unsubscribe(e,t)},unsubscribe:function(t,e){var r;null!==(r=this.channels[t])&&void 0!==r&&r[e]&&(delete this.channels[t][e],0===this.channels[t].lengths&&delete this.channels[t])}}},705:(t,e,r)=>{r.d(e,{T:()=>a});var n=r(575),o=r(307);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var a={logs:{},showLog:function(t){var e,r,o=null!==(e=n.t.session("showLog"))&&void 0!==e&&e,i=null!==(r=n.t.session("showLogBlock"))&&void 0!==r&&r;return!!o&&(!i||i===t)},on:function(t){return n.t.session("showLog",!0),t&&n.t.session("showLogBlock",t),"Логи включены"},off:function(){return n.t.session("showLog",!1),n.t.session("showLogBlock",!1,0),"Логи выключены"},log:function(t,e){this._def("log",t,e)},err:function(t,e){this._def("error",t,e)},info:function(t,e){this._def("info",t,e)},_def:function(t,e,r){if(void 0!==r){!1!==r&&"object"!=i(r)&&(r=window.adfinity.block(r));var n=r.blockId;this.showLog(n)&&(console[t](this.format(r),e),this.timingAdd(e,n))}else console.error("Не задан блок",t,e)},format:function(t){var e="ADFINITY: ";return null!=t&&t.blockCaption&&(e+=null==t?void 0:t.blockCaption),e},timing:performance.getEntriesByType("navigation")[0],timingSwitch:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n.t.session("showLogTiming",!!t),"Тайминг "+(t?"включен":"выключен")},timingAdd:function(t,e){void 0===this[e]&&(this[e]=[]);var r=0,i=0,a=o.M.tmFromStart(),c=this[e].length;c>0?(r=this[e][0].tmFromStart,i=this[e][c-1].tmFromStart):r=i=a,this[e].push({tmFromStart:a,tmFromFirts:a-r,tmFromLast:a-i,msg:e+": "+t}),n.t.session("showLogTiming")&&console.table(this[e])}}},307:(t,e,r)=>{r.d(e,{M:()=>o});var n=r(705),o={tmStart:!1,styles:{},stylesTag:!1,currentPage:!1,init:function(){this.setTmStart(),this.setCurrentPage()},setTmStart:function(){this.tmStart=this.now()},now:function(){return new Date/1e3},tmFromStart:function(){return this.now()-this.tmStart},setCurrentPage:function(){this.currentPage=this.getPagePath()},hasChangedCurrentPage:function(){return this.currentPage!==this.getPagePath()},getPagePath:function(){return window.location.pathname+window.location.search},addTag:function(t,e,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"afterend",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=document.createElement(t);for(var c in e)a.setAttribute(c,e[c]);return i&&(a.innerHTML=i),(r=null!==(n=r)&&void 0!==n?n:this.adfinityScriptNode()).insertAdjacentElement(o,a),a},adfinityScriptNode:function(){return document.querySelector('script[src*="adfinity."]')},addStyle:function(t,e){this.styles[t]=e,this.renderStyles()},removeStyle:function(t){void 0!==this.styles[t]&&delete this.styles[t],this.renderStyles()},renderStyles:function(){!1===this.stylesTag&&(this.stylesTag=this.addTag("style",{id:"adfox_styles"}));var t=[];for(var e in this.styles)t.push(this.styles[e]);this.stylesTag.innerHTML=t.join("\n")},checkDomain:function(t){var e="www.",r=window.location.host;if(t.main.replace(e,"")===r.replace(e,""))return!0;for(var o in t.mirror){var i=new RegExp(t.mirror[o]);if(r.match(i))return!0}return n.T.err("Домена нет среди разрешённых",!1),!1},checkUrlForShow:function(t){for(var e=null!=t?t:[],r=window.location.pathname,o=0;o<e.length;++o){var i=new RegExp(e[o]);if(r.match(i))return n.T.err("На этой странице исключён вывод рекламы",!1),!1}return!0},getObjectByPath:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.replace(/:nth-child/g,""),o=1,i=0,a=!1,c=!0,u=r.match(/(.*)\(((\d*)n\+(\d+)|(\d*)n|(\d+))\)(\d*)$/);if(u&&(void 0!==u[6]?(o=0,i=parseInt(u[6]),a=1):void 0!==u[5]?(o=u[5],i=0):void 0!==u[3]&&void 0!==u[4]?(o=u[3],i=parseInt(u[4])):(n.T.err("Неверное регулярное выражение - "+t),c=!1),o=""==o?1:parseInt(o),r=u[1].replace(/\(/g,":nth-child("),u[7].length>0&&(a=parseInt(u[7]),a=!isNaN(a)&&a)),!1===c)return!1;var s=document.querySelectorAll(r),l=[];return s.forEach((function(t,e){e++;for(var r=0;;){var n=o*r+i;if(n===e){l.push(t);break}if(0===o||n>e)break;r++}})),!1!==a&&(l=l.slice(0,a)),!1===e?l:l[e]},getObjectByXPath:function(t,e){var r,o=[],i=!0;if(null===t.match(/\//)&&(n.T.err("Неверное регулярное выражение - "+t),i=!1),!1===i)return!1;for(var a=0;null!==r;)r=document.evaluate(t,document.body,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotItem(a),a++,o.push(r);return o.pop(),!1===e?o:o[e]}}},958:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}r.d(e,{u:()=>o});var o={runScheduler:function(t,e,r,o,i){if("object"!==n(e)||"function"!=typeof o)return!1;for(var a=!1,c=arguments.length,u=new Array(c>5?c-5:0),s=5;s<c;s++)u[s-5]=arguments[s];return"Interval"==t?a=setInterval.apply(void 0,[o,i].concat(u)):"Timeout"==t&&(a=setTimeout.apply(void 0,[o,i].concat(u))),!1!==a&&("object"!==n(e.schedulers)&&(e.schedulers={}),e.schedulers[r]={schedulerType:t,id:a},a)},setInterval:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.runScheduler.apply(this,["Interval"].concat(e))},setTimeout:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.runScheduler.apply(this,["Timeout"].concat(e))},stopScheduler:function(t,e){var r,o=null==t||null===(r=t.schedulers)||void 0===r?void 0:r[e];return"object"===n(o)&&("Interval"==o.schedulerType?clearInterval(o.id):"Timeout"==o.schedulerType&&clearTimeout(o.id),!0)},stopAllSchedulers:function(t){if("object"!==n(null==t?void 0:t.schedulers))return!1;for(var e in t.schedulers)this.stopScheduler(t,e);return!0},addEventListener:function(t,e,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return"object"===n(t)&&"object"===n(r)&&"function"==typeof i&&(!1===n(a)?r.addEventListener(o,i):r.addEventListener(o,i,a),"object"!==n(t.eventListeners)&&(t.eventListeners={}),t.eventListeners[e]={eventObject:r,eventType:o,listener:i,options:a},!0)},removeEventListener:function(t,e){var r,o=null==t||null===(r=t.eventListeners)||void 0===r?void 0:r[e];return"object"===n(o)&&(!1===n(o.options)?o.eventObject.removeEventListener(o.eventType,o.listener):o.eventObject.removeEventListener(o.eventType,o.listener,o.options),!0)},removeAllEventListeners:function(t){var e=null==t?void 0:t.eventListeners;if("object"!==n(e))return!1;for(var r in e)this.removeEventListener(t,r);return!0}}},575:(t,e,r)=>{r.d(e,{t:()=>n});var n={pageStorage:{},page:function(t,e,r){return this.default(this.pageStorage,t,e,r)},session:function(t,e,r){return this.default(sessionStorage,t,e,r)},local:function(t,e,r){return this.default(localStorage,t,e,r)},default:function(t,e,r,n){var o,i=Date.now();if(void 0!==r&&(o={val:r},n=parseInt(n),isNaN(n)||(o.time=i+1e3*n),t[e]=JSON.stringify(o)),void 0!==t[e]){if(!(void 0!==(o=JSON.parse(t[e])).time&&o.time<i))return o.val;t.removeItem(e)}}}},847:()=>{}},__webpack_module_cache__={},deferred;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(t,e,r,n)=>{if(!e){var o=1/0;for(u=0;u<deferred.length;u++){for(var[e,r,n]=deferred[u],i=!0,a=0;a<e.length;a++)(!1&n||o>=n)&&Object.keys(__webpack_require__.O).every((t=>__webpack_require__.O[t](e[a])))?e.splice(a--,1):(i=!1,n<o&&(o=n));if(i){deferred.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=deferred.length;u>0&&deferred[u-1][2]>n;u--)deferred[u]=deferred[u-1];deferred[u]=[e,r,n]},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={626:0,156:0};__webpack_require__.O.j=e=>0===t[e];var e=(e,r)=>{var n,o,[i,a,c]=r,u=0;if(i.some((e=>0!==t[e]))){for(n in a)__webpack_require__.o(a,n)&&(__webpack_require__.m[n]=a[n]);if(c)var s=c(__webpack_require__)}for(e&&e(r);u<i.length;u++)o=i[u],__webpack_require__.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return __webpack_require__.O(s)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),__webpack_require__.O(void 0,[156],(()=>__webpack_require__(139)));var __webpack_exports__=__webpack_require__.O(void 0,[156],(()=>__webpack_require__(847)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
/* Published at: 2024-02-01 11:23:05 */